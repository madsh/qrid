<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>qrid info</title>    
    </head>
    <body>

        <h1>Strap</h1>        
        <div id="reponse"></div>

        <div id="appleid-signin" data-color="black" data-border="true" data-type="sign in"></div>
        <script type="text/javascript" src="https://appleid.cdn-apple.com/appleauth/static/jsapi/appleid/1/en_US/appleid.auth.js"></script>
        <script type="text/javascript">
            AppleID.auth.init({
                clientId : 'info.qrid.test',
                scope : 'name email',
                redirectURI: 'https://qrid.info.auth', // valid redirect UI
                state : new Date().getTime().toString(),
                nonce : new Date().getTime().toString(),
                usePopup : true
            });

            document.addEventListener('AppleIDSignInOnSuccess', (data) => {
                //handle successful response
                document.getElementById('reponse').innerText = data.toString();
            });

            document.addEventListener('AppleIDSignInOnFailure', (error) => {
                //handle error.
                document.getElementById('reponse').innerText = error.toString();
            });

        </script>
    </body>
</html>